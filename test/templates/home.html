{% extends "base.html" %}

{% block extrastyle %}
<!-- 引入 ECharts 文件 -->
<!-- <script src="https://cdn.staticfile.org/echarts/4.8.0/echarts.min.js"></script> -->
<script src="{{ url_for('static', filename='js/echarts.min.js') }}"></script>
<style type="text/css">
  .panel-title {
    font-weight: bold;
  }
</style>
{% endblock %}

<!-- {% block index_active %}active{% endblock %} -->
{% block content %}
    <div class="container">
      <div class="row">
        <div class="col-xs-9">
          <div class="panel panel-info">
            <div class="panel-heading">
              <div class="panel-title">{% trans %}Genomic landscape of Chinese Colorectal Cancer{% endtrans %}</div>
            </div>
            <div class="panel-body">
              <p style="font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{% trans %} Colorectal cancer is the most common malignant tumor in the gastrointestinal tract. At present, colorectal cancer ranks the third in the incidence of malignant tumors in China and shows an increasing trend in recent years. Genomic landscape of Chinese colorectal cancer is the largest cancer genome study in China at present. We collected 1015 samples with paired samples and 500 cfDNA samples. The clinical information is relatively comprehensive, and the genomic characteristics of the Chinese population are displayed comprehensively, providing rich resources for deepening the understanding of Chinese colorectal cancer. {% endtrans %}</p>
              <div class="row">
                    <div class="col-xs-6">
                        <div id="clinic-sex" style="width: 100%; height:300px;">
                          <canvas id="myChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                        <script>
                        var a = {{ disease|safe }};
                        var b = {{ ldsc|safe }};
                          var ctx = document.getElementById('myChart').getContext('2d');
                          var myChart = new Chart(ctx, {
                              type: 'bar',
                              data: {
                                  labels: a,
                                  datasets: [{
                                      label: '{% trans %} LDSC {% endtrans %}',
                                      data: b,
                                      backgroundColor: 'rgba(75, 192, 192, 0.2)', // 蓝色
                                      borderColor: 'rgba(75, 192, 192, 1)', // 蓝色
                                      borderWidth: 1
                                  }]
                              },
                              options: {
                                  responsive: true,
                                  maintainAspectRatio: false,
                                  scales: {
                                      y: {
                                          beginAtZero: true
                                      }
                                  }
                              }
                          });
                        </script>
                      </div>
                      <div class="col-xs-6">
                        <div id='pathological-stage-samples' style="width: 100%; height: 300px">
                          <canvas id="myChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                        <script>
                            function drawPathoBar(names,values) {
                              var myChart = echarts.init(document.getElementById('pathological-stage-samples'));
                              var patho_stage_data = [];
                              for (let i = 0; i < names.length; i++) {
                                let _data = {
                                  name: names[i],
                                  value: values[i]
                                };
                                patho_stage_data.push(_data);
                              }
                              var option = {
                                tooltip: {},
                                title: [
                                {
                                  //text: '不同病理分期样本数',
                                  text: '{% trans %} Sample Number in Different Pathological Stage {% endtrans %}',
                                  top: '92%',
                                  //left: '20%',
                                  left: 'center',
                                  textStyle: {
                                    fontWeight: 'bold',
                                    fontSize: 15
                                  }
                                }
                                ],
                                series: [
                                {
                                  name: 'Sample Number in Different Pathological Stage',
                                  type: 'pie',
                                  //left: '50%',
                                  //top: '50%',
                                color: ['#60acfc', '#32d3eb', '#5bc49f', '#feb64d', '#ff7c7c', '#9287e7', '#a3a36f', '#6f83a3', '#f7acbc', '#ff5959', '#8d6262', '#7260b6', '#7acfa6', '#60b65f', '#d3b261', '#c760f2', '#b55f6f', '#8282d2', '#6fb6d3', '#d3d36f'],
                                  label: {
                                    position: 'outside',
                                    formatter: '{b}: {c}',
                                    //fontWeight: 'bold',
                                    alignTo: 'labelLine'
                                  },
                                  data: patho_stage_data
                                }
                                ]
                              };
                              myChart.setOption(option);
                            }
                            $(document).ready(function(){
                              var labels = {{ disease|safe }};
                              var values = {{ ldsc|safe }};
                              drawPathoBar(labels,values);
                            });
                            </script>
                        </div>
                  </div>
              </div>
          </div>
        </div>
        <div class="col-xs-3">
          <div class="panel panel-info">
            <div class="panel-heading">
              <div class="panel-title"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>&nbsp;&nbsp;{% trans %} Statistics {% endtrans %}</div>
              
            </div>
            <div class="panel-body">
              
            </div>
          </div>
          <div class="panel panel-info">
            <div class="panel-heading">
              <div class="panel-title"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span>&nbsp;&nbsp;{% trans %} Related Databases & Links {% endtrans %}</div>
            </div>
            <div class="panel-body">
              <p><a href="https://www.cbioportal.org/" target="_blank"><strong>cBioPortal</strong></a></p>
              <p><a href="https://portal.gdc.cancer.gov/" target="_blank"><strong>GDC</strong></a></p>
              <p><a href="http://www.cpgea.com/" target="_blank"><strong>CPGEA</strong></a></p>
              <p><a href="http://www.cgga.org.cn/" target="_blank"><strong>CGGA</strong></a></p>
            </div>
          </div>
          <div class="panel panel-info">
            <div class="panel-heading">
              <div class="panel-title"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span>&nbsp;&nbsp;{% trans %} How to Cite {% endtrans %}</div>
            </div>
            <div class="panel-body">
              <p>&nbsp;&nbsp;</p>
            </div>
          </div>
        </div>
      </div>
    </div>
{% endblock %}
